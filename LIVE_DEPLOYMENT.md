# üöÄ BrillenzChess Live Deployment Guide

## Quick Deploy to Vercel (Frontend)

### Method 1: GitHub Integration (Recommended)
1. **Visit [Vercel Dashboard](https://vercel.com/dashboard)**
2. **Click "New Project"**
3. **Import from GitHub**: `restlesspilot/brillenzChess`
4. **Configure Project**:
   - Framework Preset: **Next.js**
   - Root Directory: **.**
   - Build Command: `npm run build`
   - Output Directory: `.next`
5. **Environment Variables** (Add these):
   ```
   NEXT_PUBLIC_API_URL=https://your-backend-url.railway.app/api
   NEXT_PUBLIC_SOCKET_URL=https://your-backend-url.railway.app
   ```
6. **Deploy**: Click "Deploy"

### Method 2: Vercel CLI
```bash
# Login to Vercel
vercel login

# Deploy to production
vercel --prod

# Set environment variables
vercel env add NEXT_PUBLIC_API_URL
vercel env add NEXT_PUBLIC_SOCKET_URL
```

## Deploy Backend to Railway

### Step 1: Sign Up & Connect Repository
1. **Visit [Railway.app](https://railway.app)**
2. **Sign up with GitHub**
3. **New Project** ‚Üí **Deploy from GitHub repo**
4. **Select**: `restlesspilot/brillenzChess`

### Step 2: Configure Backend Service
1. **Root Directory**: `server`
2. **Build Command**: `npm ci && npm run build`
3. **Start Command**: `npm start`
4. **Port**: `3001`

### Step 3: Add PostgreSQL Database
1. **Add Service** ‚Üí **Database** ‚Üí **PostgreSQL**
2. **Connect**: Railway will auto-generate `DATABASE_URL`

### Step 4: Environment Variables
Add these in Railway dashboard:
```bash
NODE_ENV=production
JWT_SECRET=your-super-secure-jwt-secret-here
FRONTEND_URL=https://your-vercel-app.vercel.app
PORT=3001
# DATABASE_URL is auto-generated by Railway
```

### Step 5: Deploy & Run Migrations
```bash
# In Railway deployment logs, run:
npm run db:migrate:deploy
```

## Alternative: Deploy Backend to Heroku

### Quick Heroku Deployment
```bash
# Install Heroku CLI
npm install -g heroku

# Login and create app
heroku login
heroku create brillenz-chess-backend

# Add PostgreSQL
heroku addons:create heroku-postgresql:hobby-dev

# Set environment variables
heroku config:set JWT_SECRET=your-super-secure-jwt-secret-here
heroku config:set NODE_ENV=production
heroku config:set FRONTEND_URL=https://your-vercel-app.vercel.app

# Deploy backend only
git subtree push --prefix=server heroku main

# Run migrations
heroku run npm run db:migrate:deploy
```

## Configure Frontend for Production

After deploying backend, update your Vercel environment variables:
```bash
NEXT_PUBLIC_API_URL=https://brillenz-chess-backend.herokuapp.com/api
NEXT_PUBLIC_SOCKET_URL=https://brillenz-chess-backend.herokuapp.com
```

## Complete Deployment Checklist

### ‚úÖ Pre-Deployment
- [x] Code pushed to GitHub
- [x] Deployment configurations added
- [x] Environment variables documented

### üöÄ Frontend (Vercel)
- [ ] Sign up/login to Vercel
- [ ] Import GitHub repository
- [ ] Configure build settings
- [ ] Add environment variables
- [ ] Deploy to production

### üóÑÔ∏è Backend (Railway/Heroku)
- [ ] Sign up to hosting platform
- [ ] Create new application
- [ ] Add PostgreSQL database
- [ ] Set environment variables
- [ ] Deploy backend
- [ ] Run database migrations

### üîß Configuration
- [ ] Update frontend API URLs
- [ ] Test authentication
- [ ] Test real-time features
- [ ] Verify database connection

### üß™ Testing
- [ ] Local chess gameplay
- [ ] User registration/login
- [ ] Multiplayer functionality
- [ ] AI opponent integration
- [ ] Mobile responsiveness

## Live URLs (After Deployment)
- **Frontend**: `https://brillenz-chess.vercel.app`
- **Backend**: `https://your-backend.railway.app`
- **Health Check**: `https://your-backend.railway.app/api/health`

## Quick Commands After Deployment

```bash
# Check deployment status
curl https://your-backend.railway.app/api/health

# Test frontend
open https://brillenz-chess.vercel.app

# Monitor logs (Railway)
railway logs

# Monitor logs (Heroku)
heroku logs --tail

# Update deployment
git push origin main  # Auto-deploys via GitHub integration
```

## Troubleshooting

### Common Issues
1. **CORS Errors**: Check `FRONTEND_URL` in backend env vars
2. **Database Connection**: Verify `DATABASE_URL` is set
3. **Build Failures**: Check Node.js version compatibility
4. **WebSocket Issues**: Ensure `SOCKET_URL` is correctly configured

### Debug Commands
```bash
# Check environment variables
vercel env ls
railway vars

# View deployment logs
vercel logs
railway logs

# Test backend health
curl https://your-backend.railway.app/api/health
```

---

üéØ **Ready for Live Deployment!** Choose your preferred hosting providers and follow the steps above.